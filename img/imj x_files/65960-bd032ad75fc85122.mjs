(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[65960],{182666:e=>{e.exports="https://s.pinimg.com/webapp/btn_base-3772d107.png"},7111:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(883119),s=o(785893);const l=({isInModal:e})=>{const t=(0,n.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,s.jsx)(i.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},262194:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(702664),i=o(30700),s=o(898781),l=o(883119),a=o(785893);const r="M11.969 17a4.983 4.983 0 0 1-2.047-.447l6.6-6.6c.281.626.447 1.316.447 2.047a5 5 0\n0 1-5 5m-5-5a5 5 0 0 1 5-5c.748 0 1.45.175 2.087.47l-6.617 6.617A4.944 4.944 0 0 1 6.969\n12m13.104-5.598l2.415-2.415a1.75 1.75 0 1 0-2.475-2.474l-3.014 3.013A12.646 12.646 0 0 0 12 3.5C6.455\n3.5 1.751 7.051 0 12a12.798 12.798 0 0 0 3.927 5.598l-2.414 2.415A1.748 1.748 0 0 0 2.75 23c.448 0 .896-.171\n1.238-.513l3.013-3.013A12.65 12.65 0 0 0 12 20.5c5.545 0 10.249-3.551 12-8.5a12.782 12.782 0 0 0-3.927-5.598\n";function c({color:e="gray",legoSettingsEnabled:t,paddingX:o=10,showPassword:c,togglePassword:d}){const u=(0,s.ZP)(),{isRTL:h}=(0,n.useSelector)((({session:e})=>e));return(0,a.jsx)(l.xu,{left:h,right:!h,position:"absolute",paddingX:o,dangerouslySetInlineStyle:{__style:{right:t&&!h?4:void 0,top:t?24:12,transform:`translateY(${t?"-50%":"0"})`}},children:(0,a.jsx)(l.xu,{display:"inlineBlock",children:t?(0,a.jsx)(l.hU,{accessibilityLabel:c?u._('Show password', 'PasswordToggleEye.Label.Button.Toggle.Show.Password', 'Accessibility label for button that toggles showing the password'):u._('Hide password', 'PasswordToggleEye.Label.Button.Toggle.Hide.Password', 'Accessibility label for button that toggles hiding the password'),color:e,dangerouslySetSvgPath:c?{}:{__path:r},icon:c?"eye":void 0,inline:!0,size:"lg",onClick:d,iconColor:"gray"}):(0,a.jsx)(i.Z,{onTouch:d,rounding:"circle",pressState:"none",children:c?(0,a.jsx)(l.JO,{icon:"eye",color:"subtle",inline:!0,accessibilityLabel:u._('Show password', 'Accessibility label for button that toggles showing the password', 'Accessibility label for button that toggles showing the password')}):(0,a.jsx)(l.JO,{dangerouslySetSvgPath:{__path:r},color:"subtle",inline:!0,accessibilityLabel:u._('Hide password', 'Accessibility label for button that toggles hiding the password', 'Accessibility label for button that toggles hiding the password')})})})})}},811414:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(702664),i=o(834899),s=o(30700),l=o(883119),a=o(785893);const r={border:"1px solid rgb(181, 181, 181)",zIndex:1};function c({direction:e,email:t,emailFieldElement:o,handleEmailSuggestionClick:c,showUsername:d}){const u=(0,n.useSelector)((({session:e})=>e.country));let h=(0,i.Z)(u);"top"===e&&(h=[...h].reverse());let _=window.innerWidth-32;const g=o;g&&(_=g.getBoundingClientRect().width);let p=r;if("top"===e){const e=g?g.offsetTop-105:200;p={...r,top:e}}else{const e=g?g.offsetTop+40:248;p={...r,top:e}}return(0,a.jsx)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:p},direction:"column",display:"flex",position:"absolute",top:"top"===e,width:_,children:h.map((e=>{const o=d?t.concat(e):e;return(0,a.jsx)(l.xu,{children:(0,a.jsx)("div",{role:"button",onMouseDown:()=>{c(t.concat(e))},tabIndex:0,children:(0,a.jsx)(s.Z,{pressState:"none",children:(0,a.jsx)(l.xu,{paddingX:3,paddingY:2,children:(0,a.jsx)(l.xv,{children:o})})})})},o)}))})}},283702:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(811414),s=o(262194),l=o(898781),a=o(112690),r=o(539497),c=o(883119),d=o(785893);function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class h extends n.PureComponent{constructor(...e){super(...e),u(this,"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1,showPassword:!1}),u(this,"handleChangeEmail",(({value:e})=>{const{handleChangeEmail:t}=this.props;if(this.state.shouldShowEmailSuggestion)this.setState({shouldShowEmailSuggestion:!1});else if(e.endsWith("@")){const e=this.emailInputRef;this.setState({shouldShowEmailSuggestion:!0,emailFieldElement:e})}t&&t({value:e})})),u(this,"handlePasswordFocus",(()=>{(0,r.NC)("focus_password")})),u(this,"handleEmailSuggestionClick",(e=>{(0,r.My)("mweb_unauth_email_suggestions.login_page.tap"),this.setState({shouldShowEmailSuggestion:!1}),this.handleChangeEmail({value:e})})),u(this,"passwordReset",(e=>{(0,r.NC)("click_forget_password"),this.props.handlePasswordReset&&this.props.handlePasswordReset(e)})),u(this,"handleLoginClick",(()=>{(0,r.NC)("press_login_continue"),this.props.onLoginClick&&this.props.onLoginClick()})),u(this,"togglePassword",(()=>{const{showPassword:e}=this.state;this.props.logContextEvent({event_type:e?107:106,view_type:9,element:129}),this.setState({showPassword:!e}),(0,r.NC)("click_show_password")})),u(this,"handleSignupClick",(()=>{const{onSignUpClick:e}=this.props;e&&e()}))}render(){const{email:e,handleChangePassword:t,hideEmailField:o,hideLoginBtn:l,hidePasswordField:a,i18n:r,passwordValidationError:u,emailValidationError:h,validateEmailOnBlur:_,validatePasswordOnBlur:g,isSIWAError:p,isValid:m,onSubmit:b,password:x,shouldShowSignUpButton:w,showEmailAsText:f}=this.props,{emailFieldElement:y,shouldShowEmailSuggestion:v,showPassword:j}=this.state,k=p&&u;return(0,d.jsx)(c.xu,{marginTop:3,marginBottom:3,children:(0,d.jsxs)("form",{onSubmit:b,autoCapitalize:"none",autoCorrect:"off",children:[!o&&f&&(0,d.jsx)(c.xu,{marginBottom:5,children:(0,d.jsx)(c.xv,{align:"center",children:e})}),!o&&!f&&(0,d.jsxs)(n.Fragment,{children:[v?(0,d.jsx)(i.Z,{direction:"down",email:e,emailFieldElement:y,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,(0,d.jsx)(c.xu,{marginTop:1,children:(0,d.jsx)(c.nv,{errorMessage:h,id:"email",onBlur:_,onChange:this.handleChangeEmail,placeholder:r._('Email', 'Prompt for user to enter in email on the mobile web login page', 'Prompt for user to enter in email on the mobile web login page'),ref:e=>{this.emailInputRef=e},size:"lg",type:"email",value:e})})]}),a?null:(0,d.jsxs)(c.xu,{children:[(0,d.jsxs)(c.xu,{marginTop:2,position:"relative",children:[(0,d.jsx)(c.nv,{autoComplete:"on",errorMessage:u,id:"password",onBlur:g,onChange:t,onFocus:this.handlePasswordFocus,placeholder:r._('Password', 'Prompt for user to enter in password on the mobile web login page', 'Prompt for user to enter in password on the mobile web login page'),size:"lg",type:j?"text":"password",value:x}),(0,d.jsx)(s.Z,{togglePassword:this.togglePassword,showPassword:j})]}),(0,d.jsx)(c.xu,{marginTop:2,"data-test-id":"reset-password",children:(0,d.jsx)(c.xv,{size:"100",inline:!0,weight:"bold",children:(0,d.jsx)(c.rU,{href:"/password/reset",inline:!0,tapStyle:"none",onClick:({event:e})=>this.passwordReset(e),underline:"hover",children:k?r._('Reset your password', 'Heading displayed when email is entered on the password reset page', 'Heading displayed when email is entered on the password reset page'):r._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]}),w&&(0,d.jsx)(c.xu,{marginTop:3,children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",type:"submit",text:r._('Sign up with this email', 'Label for sign up button', 'Label for sign up button'),onClick:this.handleSignupClick})}),!l&&(0,d.jsx)(c.xu,{"data-test-id":"log-in-button",marginTop:4,children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",type:"submit",text:r._('Log in', 'Label for log in button', 'Label for log in button'),disabled:!m||w,onClick:this.handleLoginClick},!m||w?"disabled":"enabled")})]})})}}const _=function(e){const t=(0,l.ZP)(),o=(0,a.Z)();return(0,d.jsx)(h,{...e,i18n:t,logContextEvent:o})}},638543:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(667294),i=o(711781),s=o(472644),l=o(721809),a=o(898781),r=o(276775),c=o(883119),d=o(785893);function u(){var e;const t=(0,a.ZP)(),[o,i]=(0,n.useState)();return(null===(e=(0,r.useHistory)().location.state)||void 0===e?void 0:e.isAppFactoryOAuth)?null:(0,d.jsxs)(c.xu,{position:"relative",children:[(0,d.jsx)(c.iP,{onTap:()=>i(!0),children:(0,d.jsxs)(c.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"secondary",children:[(0,d.jsx)(c.xu,{height:24,width:24,marginTop:1,children:(0,d.jsx)(s.Z,{size:20})}),(0,d.jsx)(c.xu,{marginStart:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:t._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),o&&(0,d.jsx)(l.Z,{type:"google",onDismiss:()=>i(!1)})]})}var h=o(83969),_=o(773285),g=o(524172),p=o(539497);function m({onGoogleConnectSuccess:e}){const t=(0,n.useRef)(null),o=(0,g.M)(),s=(0,n.useRef)(e);return(0,n.useEffect)((()=>{s.current=e}),[e]),(0,n.useEffect)((()=>{const e=({credential:e,select_by:t})=>{(0,p.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,p.NC)("press_google_connect_button");const o=(0,i.Z)(e);s.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:o.given_name,last_name:o.family_name,image_url:o.picture})};return(async()=>{await(null==o?void 0:o.ensureInit("button",e)),(0,h.ru)({buttonRef:t,isDesktop:!1})})(),()=>{null==o||o.removeButtonCallback(e)}}),[o]),(0,d.jsx)(c.xu,{position:"relative",children:(0,d.jsx)(c.iP,{onTap:()=>(0,p.My)("gsi_personalized_button.tap"),children:(0,d.jsx)(c.xu,{height:44,children:(0,d.jsx)(c.xu,{ref:t,position:"absolute",width:"100%"})})})})}function b(e){var t;const{checkExperiment:o}=(0,_.F)(),{anyEnabled:n}=o("mweb_google_disabled");return(null===(t=(0,r.useHistory)().location.state)||void 0===t?void 0:t.isAppFactoryOAuth)?null:n?(0,d.jsx)(u,{}):(0,d.jsx)(m,{onGoogleConnectSuccess:e.onGoogleConnectSuccess})}},738759:(e,t,o)=>{o.d(t,{Z:()=>j,R:()=>v});var n=o(667294),i=o(702664),s=o(157796),l=o(391254),a=o(883119),r=o(100183);const c={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",successBase:"#B469EB"},d="DelightfulBubbles__",u=[`${d}fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n`,`${d}growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n`,`${d}swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n`,...Object.keys(c).map((e=>{const t=((e,t)=>{const o=e.length,n=e.indexOf(t)+1>=o?0:e.indexOf(t)+1;return e[n]})(Object.keys(c),e);return`${d}colorChange_${e} {\n      0% {\n        background-color: ${c[e]};\n      }\n      50% {\n        background-color: ${c[t]};\n      }\n    }\n    `}))],h=(0,r.Ll)(u);var _=o(785893);function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const p=e=>{const{delay:t,diameter:o,height:n,initialColor:i,width:s,xOffset:l,yOffset:r}=e,u=((e,t,o,n,i,s,l,a)=>({bubblePositionStyles:{position:"absolute",marginLeft:s/2-i+"px",marginTop:o/2-i+"px",left:`${l}px`,top:`${a}px`},bubbleSwirlStyles:{animation:`${d}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${d}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${d}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${d}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:c[n],opacity:0,animation:`${d}colorChange_${n} 12s steps(1, start) ${e}s infinite forwards,\n      ${d}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${d}colorChange_${n} 12s steps(1, start) ${e}s infinite forwards,\n      ${d}fadeIn 3s linear ${e}s 1 forwards`}}))(t,o,n,i,Math.floor(o/2),s,l,r);return(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:u.bubblePositionStyles},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:u.bubbleSwirlStyles},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:u.bubbleGrowShrinkStyles},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:u.bubbleShapeStyles}})})})})};class m extends n.Component{constructor(...e){super(...e),g(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame((()=>{this.setState({isInitialized:!0})}))}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{bubbleSize:o,delayFactor:n,delayOffset:i,numBubbles:s,xRadiusAdjustment:l,yRadiusAdjustment:a}=this.props,d=e+2*a,u=t+2*l,h=[],g=Object.keys(c);for(let c=0;c<s;c+=1){const s=o+(0,r.XF)(-4,4),l=g[c%g.length],{x:a,y:m}=(0,r.CC)(d,u);h.push((0,_.jsx)(p,{delay:c*n+i,diameter:s,initialColor:l,xOffset:a,yOffset:m,height:e,width:t},c))}return h}render(){const{height:e,width:t}=this.getSize();return(0,_.jsxs)(a.xu,{height:e,width:t,position:"relative",children:[(0,_.jsx)(l.Z,{unsafeCSS:h}),(0,_.jsxs)(a.xu,{position:"absolute",ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(e||0,t||0),(0,_.jsx)(a.xu,{position:"relative",children:this.props.children})]})]})}}g(m,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});const b=m;var x=o(7111),w=o(705834),f=o(898781),y=o(693099);const v=e=>new Set([...y.EU,...y.rT,...y.IO]).has(e);function j({isReducedHeader:e,progressBarAnimationDuration:t}){const o=(0,f.ZP)(),l=(0,i.useSelector)((({session:e})=>e.country)),r=v(l);return(0,_.jsx)(n.Fragment,{children:r?(0,_.jsx)(w.Z,{viewType:10,viewParameter:259,children:(0,_.jsxs)(a.xu,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"default",children:[(0,_.jsx)(s.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,_.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,_.jsxs)(a.xu,{margin:10,children:[(0,_.jsx)(a.X6,{overflow:"normal",size:e?"500":"600",children:o._('Your account is being created!', 'account created heading', 'account created heading')}),(0,_.jsx)(a.xv,{overflow:"normal",children:o._('You can now save ideas, get personalized recommendations, and more', 'loading state description while waiting for any sign up registration to complete', 'loading state description while waiting for any sign up registration to complete')})]}),(0,_.jsx)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,_.jsx)(b,{delayOffset:-5,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,_.jsx)(a.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,_.jsx)(a.JO,{accessibilityLabel:o._('Loading', 'Loading state for any sign up registration', 'Loading state for any sign up registration'),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,_.jsx)(x.Z,{})})}},721809:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(121151),i=o(898781),s=o(883119),l=o(785893);function a({type:e,onDismiss:t}){const o=(0,i.ZP)(),a="facebook"===e?o._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):o._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),r="facebook"===e?o._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):o._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,l.jsx)(n.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,l.jsxs)(s.xu,{padding:5,children:[(0,l.jsx)(s.xu,{marginBottom:3,children:(0,l.jsx)(s.X6,{size:"500",accessibilityLevel:1,children:a})}),(0,l.jsx)(s.xu,{marginBottom:3,children:(0,l.jsx)(s.xv,{children:r})}),(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,l.jsx)(s.xu,{paddingY:1,children:(0,l.jsx)(s.zx,{accessibilityLabel:o._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),size:"lg",color:"red",text:o._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),onClick:t})})})]})})}},843325:(e,t,o)=>{o.d(t,{Z:()=>G});var n=o(667294),i=o(702664),s=o(721809),l=o(898781),a=o(539497),r=o(773285),c=o(883119),d=o(467570),u=o(785893);function h({onFacebookConnectError:e,onFacebookConnectSuccess:t,onTouch:o,isRerequest:h}){const _=(0,l.ZP)(),{checkExperiment:g}=(0,r.F)(),{locale:p}=(0,i.useSelector)((e=>e.session)),{anyEnabled:m}=g("mweb_facebook_disabled"),[b,x]=(0,n.useState)(!1),[w,f]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{m||(0,d.we)(p).then((()=>{x(!0)}))}),[p,m]),(0,u.jsxs)(c.xu,{position:"relative","data-test-id":"FacebookConnectContainer",children:[(0,u.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",rounding:5,children:(0,u.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":"continue_with","data-layout":"rounded","data-show-faces":"false","data-auth-type":h?"rerequest":void 0,"data-scope":d.$.join(","),"data-auto-logout-link":"false","data-use-continue-as":g("pcons_mweb_fb_shadow_test").group.startsWith("enabled_no_continue")?"false":"true","shadow-test":g("pcons_mweb_fb_shadow_test").anyEnabled?"true":"false"})}),(0,u.jsxs)("button",{onClick:()=>{(0,a.My)("unauth_mweb.facebook_connect.button_click"),null==o||o(),m?f(!0):b&&(0,d.JF)().then((({creds:e,signupOptions:o})=>{t(e,o)}),e)},style:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},type:"button","data-test-id":"FacebookConnectButton",children:[(0,u.jsx)(c.xu,{color:"default",rounding:3,dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},children:(0,u.jsx)(c.JO,{accessibilityLabel:_._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:(0,u.jsx)("span",{style:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"},children:_._('Continue with Facebook', 'Login page button', 'Login page button')})})]}),w&&(0,u.jsx)(s.Z,{type:"facebook",onDismiss:()=>f(!1)})]})}var _=o(435856),g=o(7111),p=o(989392),m=o(30700),b=o(176532),x=o(160585),w=o(182666),f=o.n(w),y=o(966113),v=o(829407),j=o(826067),k=o(780280),P=o(957161);const A={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}},S=({buttonText:e,onLineConnectSuccess:t,onLineConnectError:o,onTouch:n})=>{const i=(0,l.ZP)(),{checkExperiment:s}=(0,r.F)(),{anyEnabled:d}=s("mweb_line_oauth_jp"),{anyEnabled:h}=s("mweb_line_oauth_jp_android"),_=d||h,g=(0,x.Z)(10),{locale:p}=(0,k.B)();let m;const w=e=>{const n=(0,j.mB)(e);if(n.state&&n.code&&n.state===g){m&&!m.closed&&m.close();const e=`${window.location.origin}/oauth/line/redirect`;(0,b.Z)({url:"/oauth/line/verify",type:"POST",data:{code:n.code,redirect_uri:e}}).promise.then((({ok:e,responseText:n})=>{if(e&&n){const e=JSON.parse(n),{id_token:o,access_token:i}=e;o&&i&&t({line_id_token:o,line_access_token:i},{type:"line",line_id_token:o,line_access_token:i})}else o()}))}},S=e=>{e.isTrusted&&e.origin===window.location.origin&&e.data&&w(String(e.data))},C=e=>{if(e.isTrusted&&e.url.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===e.key){const e=(0,P.qn)("lineOAuthOneTimeCode");e&&w(e)}};(0,v.Z)((()=>()=>{window.removeEventListener("message",S),window.removeEventListener("storage",C),(0,P.L_)("lineOAuthOneTimeCode"),m&&!m.closed&&m.close()}));const z=A.defaultButton;return _?(0,u.jsx)(c.xu,{position:"relative","data-test-id":"LineConnectContainer",children:(0,u.jsxs)("button",{onClick:()=>{(0,a.My)("unauth_mweb.line_connect.button_click"),n&&n();const e=`${window.location.origin}/oauth/line/redirect`;window.addEventListener("message",S,!1),window.addEventListener("storage",C),m=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${y.Z.settings.LINE_CLIENT_ID}&redirect_uri=${encodeURIComponent(e)}&state=${g}&ui_locales=${p}&scope=profile%20openid%20email`,"_blank")},style:z,type:"button","data-test-id":"line-connect-button",children:[(0,u.jsx)("img",{style:A.lineLogo,src:f(),alt:i._('line', 'accessible label for line icon', 'accessible label for line icon')}),(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"center",flex:"grow",children:(0,u.jsx)("span",{style:A.buttonText,children:e})})]})}):null};var C=o(638543),z=o(474635),L=o(53987),E=o(276775);function T({within:e}){const t=(0,l.ZP)(),o=(0,E.useLocation)(),{userAgentPlatform:n}=(0,i.useSelector)((({session:e})=>e)),{pathname:s}=o;return(0,u.jsx)(c.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,u.jsx)(z.Z,{componentType:13858,within:null!=e?e:"unauth-signup-modal",children:({handleOpenApp:i})=>(0,u.jsx)(c.zx,{text:t._('Get Pinterest App', 'unauth.modal.get_app.button_text', 'App download button text'),color:"red",fullWidth:!0,onClick:()=>{(0,a.My)("homepage_top_module"===e?"mweb.unauth.homepage.top.download_app_button.click":"homepage_bottom_module"===e?"mweb.unauth.homepage.bottom.download_app_button.click":"mweb.unauth.signup_modal.download_app_button.click"),s&&i({deepLinkUri:"/"===s?"/":!(0,L.cD)(o)||"ios"!==n&&"ipad"!==n?s.substr(1):"user"+s})}})})})}var Z=o(499128),B=o(112690),O=o(204324),F=o(19121),I=o(738759),R=o(693099),D=o(185894),M=o(597897),$=o(967053),U=o(760547),H=o(343341),N=o(584595),W=o(45169);function G({facebook:e,fbConnectHandler:t,footer:o,from:s,google:b,isBusiness:x,isRerequest:w,line:f,next:y="/",noImmediateRedirect:v,onFacebookTouch:j,onLoginTouch:P,onSignupTouch:A,showAppInstallButton:z,showEmailButton:L,showTextDivider:G,viewParameter:Y,within:J}){var X;const K=(0,E.useHistory)(),q=(0,E.useLocation)(),V=(0,l.ZP)(),{showToast:Q}=(0,H.F9)(),ee=(0,B.Z)(),te=(0,i.useDispatch)(),oe=(0,$.f0)(),ne=(0,M.U)(),{flush:ie}=(0,r.F)(),se=(0,U.m)(),le=(0,O.Z)(),{isAuth:ae,isLimitedLogin:re}=(0,F.Z)(),{country:ce}=(0,k.B)(),[de,ue]=(0,n.useState)(null),[he,_e]=(0,n.useState)("default"),ge=("facebook"===he?5e3:"google"===he&&4e3)||void 0;(0,n.useEffect)((()=>{if(ne){var e,t;if(o)null===(e=ne.preload)||void 0===e||e.call(ne,new URL("login.js","file://"));if(L)null===(t=ne.preload)||void 0===t||t.call(ne,new URL("signup.js","file://"))}}),[]);const pe=ae?{login_state:re?2:1}:Object.freeze({}),me=e=>{ee({view_type:10,view_parameter:Y,element:e,event_type:102,aux_data:pe})},be=(e,t)=>{let o,n;switch(t){case"facebook":o=3205,n=2;break;case"google":o=3204,n=3;break;case"line":o=3556,n=8}ee({event_type:e,view_type:10,view_parameter:o,aux_data:{...pe,signup_login_method:n}})},xe=e=>(o,n)=>{const i="google"===e?"gsi_btn":"other",s=q.state&&q.state.switch_account?{switchAccount:!0,trigger:i}:{noImmediateRedirect:v,trigger:i};"facebook"===e&&(null==t||t("success")),(0,a.NC)(e+"_login_success"),be(7534,e),oe(o,K,y,s).then((()=>{be(7536,e)})).catch((t=>{be(7535,e),((e,t,o,n)=>{ue(null);const i=({birthday:e})=>"facebook"===n&&!!e&&(0,p.Z)(e,18),s=e=>{if((0,a.My)("unauth_mweb.facebook_signup_attempt"),o.gender||(0,a.My)("unauth_mweb.facebook_signup_attempt.nogender"),null!=e&&e.isLineMissingEmailError||!i({birthday:o.birthday})){"facebook"===n&&o.birthday&&(o.birthday=String((0,_.Z)(o.birthday||""))),ue("signup"),_e(n),be(7537,n);const e="facebook"===o.type?{...o,email_source_site:W.E_.FACEBOOK,birthday_source_site:W.E_.FACEBOOK}:o;se(e).then((()=>{be(7487,n),(0,a.NC)("signup_via_login_buttons"),["facebook","google"].includes(n)&&le(y||"/"),ue(null)}),(e=>{if("line"===o.type){const t=o;e.api_error_code===N.iZ?K.push({pathname:"/signup/line-email-collect/",state:{signupOptions:t}}):e.api_error_code===N.NF&&K.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:t}})}be(7488,n),Q((({hideToast:t})=>(0,u.jsx)(Z.ZP,{text:e.api_error_code&&e.message?e.message:V._('Sorry! Something went wrong on our end.', 'Error logging on', 'Error logging on'),onHide:t}))),ue(null)}))}else ie(),K.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===o.type?{...o,email_source_site:W.E_.FACEBOOK}:o,progressBarAnimationDuration:ge}})};t&&[N.xN,N.lg,N.Pv].includes(t.api_error_code)?"facebook"!==o.type||o.email?s({isLineMissingEmailError:t.api_error_code===N.Pv}):(0,d.uP)("email").then((({hasPerm:e})=>{const t=o;K.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:t,includeAgeStep:((0,W.NN)(ce)||R.rT.includes(ce))&&i({birthday:o.birthday})}}),(0,a.My)(`unauth_mweb.reg_via_fb.has_email_perm.${String(!!e)}`)})).catch((e=>{s()})):((0,a.My)(t?`mweb_login_button_skip_register.api_error_code.${t.api_error_code}`:"unauth_mweb.login.unexpected_error"),Q((({hideToast:e})=>(0,u.jsx)(Z.ZP,{text:t&&t.api_error_code&&t.message?t.message:V._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.'),onHide:e}))))})(0,t,n,e)})),ue("login"),_e(e)},we=({event:e})=>{e.stopPropagation(),e.preventDefault(),null==P||P(),s&&te((0,D.rm)(s)),(0,a.LW)({action:"click",pageLocation:q,item:"login-button"}),me(30),(0,a.My)(`unauth_mweb.login_buttons.footer.${(null==o?void 0:o.type)||"button"}`),(0,a.NC)("press_login"),K.push({pathname:x?"/business/login/":"/login/",search:q.search,state:{next:y}})};return(0,u.jsxs)(c.xu,{marginTop:x?-5:0,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[G&&(0,u.jsx)(c.xu,{marginBottom:3,marginTop:3,children:(0,u.jsx)(c.xv,{align:"center",size:"100",weight:"bold",children:V._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,u.jsx)(c.xu,{marginBottom:6,children:(0,u.jsxs)(n.Fragment,{children:[z&&(0,u.jsx)(T,{within:J}),L&&(0,u.jsx)(c.xu,{"data-test-id":"continue-email-button",marginBottom:x?-2:2,children:(0,u.jsx)(c.zx,{fullWidth:!0,color:z?"gray":"red",text:x?V._('Create account', 'Button text for creating a business account', 'Button text for creating a business account'):V._('Continue with email', 'Sign up button', 'Sign up button'),onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,a.NC)("press_email_signup"),(0,a.LW)({action:"click",pageLocation:q,item:"email-signup-button"}),null==A||A(),s&&te((0,D.rm)(s)),me(31),K.push({pathname:x?"/business/signup/step1/":"/signup/step1/",search:q.search,state:{next:y}})}})}),e&&!(null!==(X=K.location.state)&&void 0!==X&&X.isAppFactoryOAuth)&&(0,u.jsx)(c.xu,{marginBottom:2,"data-test-id":"facebook-connect-button",children:(0,u.jsx)(h,{onFacebookConnectError:()=>{null==t||t("error"),Q((({hideToast:e})=>(0,u.jsx)(Z.ZP,{text:V._('Unable to connect to Facebook', 'Error logging on with Facebook', 'Error logging on with Facebook'),onHide:e})))},onFacebookConnectSuccess:xe("facebook"),onTouch:()=>{null==j||j(),(0,a.LW)({action:"click",pageLocation:q,item:"facebook-connect-button"}),me(68)},isRerequest:w})}),b&&(0,u.jsx)(c.xu,{marginBottom:2,"data-test-id":"google-connect-button",children:(0,u.jsx)(C.Z,{isAuthenticated:ae,onGoogleConnectSuccess:xe("google")})}),f&&(0,u.jsx)(c.xu,{marginBottom:2,"data-test-id":"line-connect-button",children:(0,u.jsx)(S,{buttonText:V._('Continue with LINE', 'Login page button', 'Login page button'),onLineConnectError:()=>{Q((({hideToast:e})=>(0,u.jsx)(Z.ZP,{text:V._('Unable to connect to Line', 'Error logging on with Line', 'Error logging on with Line'),onHide:e})))},onLineConnectSuccess:xe("line"),onTouch:()=>{me(12277),(0,a.LW)({action:"click",pageLocation:q,item:"line-connect-button"})}})})]})}),o&&("member_link"===o.type?(0,u.jsx)(c.xu,{marginTop:-4,"data-test-id":"login-member",children:(0,u.jsx)(m.Z,{pressState:"none",onTouch:e=>we({event:e}),children:(0,u.jsx)(c.xu,{paddingY:o.noPadding?0:4,marginBottom:o.increasedSpaceBelow?-1:-2,children:(0,u.jsx)(c.xv,{align:"center",size:"200",weight:"bold",color:o.textColorIsLight?"light":"dark",children:V._('Already a member? Log in', 'Link on mobile web sign up modal to direct unauth users to the login page', 'Link on mobile web sign up modal to direct unauth users to the login page')})})})}):(0,u.jsx)(c.xu,{marginBottom:5,"data-test-id":"login-button",children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"transparent",onClick:we,text:V._('Log in', 'Login page button', 'Login page button')})})),de&&("signup"===de?(0,u.jsx)(I.Z,{progressBarAnimationDuration:ge}):(0,u.jsx)(g.Z,{}))]})}},977981:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(966113),i=o(898781),s=o(112690),l=o(349700),a=o(539497),r=o(276775),c=o(883119),d=o(785893);function u({isMobileHomepage:e,isTabletHomepage:t,isBusiness:o=!1,size:u="sm",alignText:h="center",viewType:_,viewParameter:g}){const p=(0,i.ZP)(),m=(0,r.useLocation)(),b=(0,s.Z)(),x=n.Z.settings.POLICY_PRIVACY_URL,w=o?n.Z.settings.PARTNER_SITE_TOS_URL:n.Z.settings.POLICY_TERMS_PLAIN_URL;return(0,d.jsx)(c.xu,{display:"flex",alignItems:"left"===h?"start":"center",alignSelf:"center",direction:"row",justifyContent:"center",paddingX:4,wrap:!0,children:(0,d.jsx)(c.xv,{color:e?"inverse":t?"default":"subtle",align:"left"===h?"start":"center",size:t?"300":"100",overflow:"normal",inline:!0,children:(0,l.nk)(p._('By continuing, you agree to Pinterest\'s {{ termsOfService }} and acknowledge you\'ve read our {{ privacyPolicy }}', ' - ', ' -- '),{termsOfService:(0,d.jsx)(c.xu,{display:"inlineBlock","data-test-id":"business-tos",children:(0,d.jsx)(c.xv,{color:e?"inverse":t?"default":"subtle",inline:!0,size:t?"300":"100",weight:"bold",children:(0,d.jsx)(c.rU,{href:w,inline:!0,target:"blank",onClick:()=>{(0,a.LW)({action:"click",pageLocation:m,item:"business-tos"}),_&&g&&b({view_type:_,view_parameter:g,element:8012,event_type:102})},underline:"hover",children:o?p._('Business Terms of Service', 'Mobile web business terms of service link for partners', 'Mobile web business terms of service link for partners'):p._('Terms of Service', 'Mobile web terms of service link', 'Mobile web terms of service link')})})},"termsOfService"),privacyPolicy:(0,d.jsx)(c.xu,{display:"inlineBlock","data-test-id":"privacy",children:(0,d.jsx)(c.xv,{color:e?"inverse":t?"default":"subtle",inline:!0,size:t?"300":"100",weight:"bold",children:(0,d.jsx)(c.rU,{href:x,inline:!0,target:"blank",onClick:()=>{(0,a.LW)({action:"click",pageLocation:m,item:"privacy-policy"}),_&&g&&b({view_type:_,view_parameter:g,element:8004,event_type:102})},underline:"hover",children:p._('Privacy Policy', 'Mobile web privacy policy link', 'Mobile web privacy policy link')})})},"privacyPolicy")})})})}},834899:(e,t,o)=>{o.d(t,{B:()=>c,Z:()=>r});const n="gmail.com",i="yahoo.com",s="hotmail.com",l="icloud.com",a={AR:[n,s,"yahoo.com.ar"],AU:[n,s,"bigpond.com"],BR:[n,s,"yahoo.com.br"],CA:[n,s,i],DE:[n,"web.de","gmx.de"],ES:[n,s,"hotmail.es"],FR:[n,"hotmail.fr","orange.fr"],GB:[n,"hotmail.co.uk","hotmail.com"],IN:[n,i,"rediffmail.com"],IT:[n,"libero.it","hotmail.it"],JP:[n,"yahoo.co.jp","ezweb.ne.jp"],MX:[n,s,"outlook.com"],US:[n,s,i],KR:[n,"naver.com","hanmail.net","nate.com","daum.net"],ID:[n,i,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[n,i,"yahoo.com.ph",l,"ymail.com"],TH:[n,s,"hotmail.co.th",i,l],VN:[n,i,"yahoo.com.vn",l,s],DEFAULT:[n,s,i]};function r(e){return e&&e.toUpperCase()in a?a[e.toUpperCase()]:a.DEFAULT}function c(e){const[t,o]=e.split("@");let n="";const i=t.length;return n=i>3?t.substring(0,3)+t.substring(3,i).replace(/\w/g,"*"):t.replace(/\w/g,"*"),`${n}@${o}`}},760547:(e,t,o)=>{o.d(t,{m:()=>k});var n=o(702664),i=o(231486),s=o(957161),l=o(693099);function a(){return function(e){const t={};return e.forEach((e=>{const o=JSON.parse((0,s.qn)(e));o&&(t[e]=o)})),JSON.stringify(t)}([l.E9])}var r=o(6637),c=o(594881),d=o(371415),u=o(383690),h=o(330102),_=o(45169),g=o(81759),p=o(957191),m=o(983360),b=o(226198),x=o(622096),w=o(738759),f=o(408285),y=o(773285),v=o(584595),j=o(539497);const k=()=>{const e=(0,y.F)(),t=(0,n.useDispatch)(),{country:o,country_from_hostname:s,country_from_ip:l,region_from_ip:k,isAuthenticated:P}=(0,n.useSelector)((({session:e})=>e)),A=(0,u.Z)();return(n,u)=>{const y=(0,_.Y)(n),S=null==u?void 0:u.trigger;(0,j.De)({action:"signup",event:"attempt",trigger:S,type:y}),A();let C=0;const z=(0,w.R)(o),L=new Promise(((e,t)=>{z?setTimeout((()=>{e()}),3e3):e()}));return new Promise(((u,_)=>{const w=()=>{const A=P,z=(0,g.t_)(),E={...n,user_behavior_data:a(),visited_pages:z};r.Z.create("UserRegisterResource",{...E,get_user:!0}).callCreate().then((i=>L.then((()=>{(0,x.L_)("d_pif_invite");const a=i.client_context;var r;t((r=i.resource_response.data.user,{type:m.c7,payload:{user:r}})),a&&(a.placed_experiences&&t((0,p.OD)(a.placed_experiences)),e.active=a.active_experiments,e.triggerable=a.triggerable_experiments),A&&(0,d.Z)("registration.signup_success");const _=n.email||n.username||null,g=n.password||null;if(navigator.credentials&&_&&g)try{const e=new window.PasswordCredential({id:_,password:g});(0,j.My)("unauth_mweb.navigatorCredentials.store.attempt"),navigator.credentials&&"function"==typeof navigator.credentials.store&&navigator.credentials.store(e).then((()=>{(0,j.My)("unauth_mweb.navigatorCredentials.store.success")}))}catch(b){(0,j.My)("unauth_mweb.navigatorCredentials.store.error")}(0,j.De)({action:"signup",event:"success",trigger:S,type:y}),(0,c.Z)(),A&&(0,f.Dm)(),(0,h.ko)({country:o,countryFromHostName:s,countryFromIp:l,regionFromIp:k,deviceType:"Mobile",eventCategory:"NewUsers"}),u()})))).catch((e=>{(null==e?void 0:e.api_error_code)===v.tz&&((0,j.My)("multi_step_set_age_restrict_cookie"),i.t8(b.It,"1",(0,i.kZ)(b.It))),C<3&&[v.dO,v.cZ].includes(null==e?void 0:e.api_error_code)?(C+=1,w()):((0,j.De)({action:"signup",event:"fail",trigger:S,type:y}),A&&(0,d.Z)("registration.signup_error"),_(e))}))};w()}))}}},204324:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(78714),i=o(276775),s=o(50286);function l(){const e=(0,i.useHistory)(),t=(0,s.HG)();return o=>{t?(0,n.Z)(o,{disableOriginCheck:!0}):e.push(o)}}},435856:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(202139);const i=e=>n.o_.test(e)||n.cW.test(e)?new Date(e).getTime()/1e3:-1},989392:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(202139);const i=(e,t)=>{const o=new Date;return n.o_.test(e)?new Date(e)<=new Date(o.getFullYear()-t,o.getMonth(),o.getDate()):!!n.cW.test(e)&&new Date(e).getFullYear()<=o.getFullYear()-t-1}},472644:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e}){return(0,n.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,n.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,n.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,n.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,n.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},711781:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")));var t}},160585:(e,t,o)=>{function n(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(Math.random()*t.length)])).join("")}o.d(t,{Z:()=>n})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/65960-bd032ad75fc85122.mjs.map